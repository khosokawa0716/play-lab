# 🎰 ルーレットゲーム仕様書

## 概要

「プレイラボ！」における第1弾ミニゲーム。  
ランダムに止まるルーレットの図柄を予測し、当てることで得点を獲得する、シンプルなタイミングゲーム。

---

## 基本情報

- **ゲーム名**：ルーレットゲーム（仮）
- **対象年齢**：9〜12歳（小学校高学年）
- **プレイ形式**：1回ごとに完結
- **操作方法**：タップまたはクリックのみ

---

## ルール概要

1. プレイヤーは、開始前に「掛け方」を1つ選択
2. ルーレットが回転し、図柄がランダムに止まる
3. 結果に応じて「当たり」か「はずれ」を判定
4. スコアが加算される（当たりのみ）

---

## 図柄一覧（全4種類）

* 🐬 イルカ
* 🐋 クジラ
* 🦈 サメ
* 🐙 タコ

※各生き物のスロット数はランダム配置（詳細は後述）

### 昼・夜テーマ

* **昼**（8個のスロット）：イルカ、クジラ、サメ、タコ（ランダム配置）
* **夜**（8個のスロット）：イルカ、クジラ、サメ、タコ（ランダム配置）

---

## 掛け方（3種類）

| 種類       | 内容                                              | 配当   |
| -------- | ----------------------------------------------- | ---- |
| **低配当**  | 1つの生き物に賭ける（例：イルカ）                               | 1.5倍 |
| **中位配当** | 1つの時間帯に賭ける（昼 or 夜）                              | 2倍   |
| **高配当**  | 複数の生き物や時間帯の組み合わせに賭ける（例：夜の時間帯にサメとイルカがそれぞれ1回以上出る） | 5倍   |

---

## UI構成（想定）

- 🎡 ルーレット表示（中央）
- 🎯 掛け方選択ボタン（ゲーム開始前）
- ⏹ スタート・ストップボタン（または自動停止）
- 🧮 スコア表示（現在スコア・ハイスコア）
- 🔁 リトライボタン（再プレイ）
- 🔊 成果演出（当たり時にエフェクトと効果音）

---

## 状態管理（主要ステート）

- `selectedPattern`：選んだ掛け方
- `selectedItems`：賭けた図柄
- `spunItem`：ルーレットで止まった図柄
- `result`：当たり or はずれ
- `score`：現在のスコア
- `highScore`：Firestoreに保存されたスコア
- `isSpinning`：ルーレット中かどうか

---

## Firestore保存内容（プレイごと）

- `userId`
- `gameId`: "roulette"
- `playedAt`: timestamp
- `selectedItems`: string[]
- `spunItem`: string
- `result`: "hit" | "miss"
- `scoreGained`: number

---

## サウンド（効果音）

- 回転中のSE
- 当たり演出のSE（ファンファーレ風）
- はずれ時のSE（ポワン…など）

---

## 実装予定メモ

- [ ] UIプロトタイプ作成（Figma or HTML/CSS）
- [ ] 図柄アイコン作成（SVG予定）
- [ ] 回転アニメーションの仕様決定（CSS or Canvas）
- [ ] スコアロジック組み込み
- [ ] Firebase連携（ユーザー／スコア保存）

---

## 今後の検討（拡張可能性）

- 制限時間内に連続でプレイする「チャレンジモード」
- 連勝ボーナスの導入
- 図柄の種類の増加
- 視覚効果の強化（背景アニメなど）

---
